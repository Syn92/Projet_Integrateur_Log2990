<app-waiting-room [isMultiplayer]="mode === 1" [gameID]="gameID" *ngIf="isLoading"></app-waiting-room>

<span [hidden]="isLoading">
  <mat-grid-list cols="9" rowHeight="1%">
    <mat-grid-tile
      [ngClass]="isGameEnded ? 'blur' : 'normal'"
      [colspan]="7"
      [rowspan]="12">
      <div class="gameName" *ngIf="!isLoading">{{activeCard.title}}</div>
    </mat-grid-tile>
    <mat-grid-tile
      [colspan]="2"
      [rowspan]="89">
      <app-chat-view #chat [arenaID]="arenaID" [username]="username"></app-chat-view>
    </mat-grid-tile>
    <mat-grid-tile
    [ngClass]="isGameEnded ? 'blur' : 'normal'"
    [colspan]="7"
    [rowspan]="57">
    <app-spinner *ngIf="isLoading"></app-spinner>
      <mat-grid-list id="displayGame" cols="2" rowHeight="500px">
          <mat-grid-tile [colspan]="1">
            <div class="text" #erreurText></div>
              <app-threejs-view #original
                                id                  = "originalScene"
                                [arenaID]           = "arenaID"
                                [username]          = "username"
                                [meshInfos]         = "meshInfos"
                                [isNotOriginal]     = "false"
                                [iSceneVariables]   = "originalVariables"
                                [isSnapshotNeeded]  = "NEEDED_SNAPSHOT">
              </app-threejs-view>
        </mat-grid-tile>
          <mat-grid-tile [colspan]="1" >
            <div class="text2" #erreurText2></div>
              <app-threejs-view #modified
                                id                  = "modifiedScene"
                                [arenaID]           = "arenaID"
                                [username]          = "username"
                                [meshInfos]         = "meshInfos"
                                [isNotOriginal]     = "true"
                                [iSceneVariables]   = "modifiedVariables"
                                [isSnapshotNeeded]  = "NEEDED_SNAPSHOT">
              </app-threejs-view>
            <div class="text2" #textDiv2></div>
          </mat-grid-tile>
      </mat-grid-list>
    </mat-grid-tile>
    <mat-grid-tile
      [ngClass]="isGameEnded ? 'blur' : 'normal'"
      [colspan]="4"
      [rowspan]="20">
      <app-timer></app-timer>
    </mat-grid-tile>
    <mat-grid-tile
      [ngClass]="isGameEnded ? 'blur' : 'normal'"
      *ngIf="mode === 0"
      [colspan]="2"
      [rowspan]="20">
      <app-difference-counter>{{username}}</app-difference-counter>
    </mat-grid-tile>
    <mat-grid-tile
      *ngIf="mode === 1" [ngClass]="isGameEnded ? 'blur' : 'normal'"
      [colspan]="1"
      [rowspan]="20">
      <app-difference-counter>{{username}}</app-difference-counter>
    </mat-grid-tile>
    <mat-grid-tile
      *ngIf="mode === 1" [ngClass]="isGameEnded ? 'blur' : 'normal'"
      [colspan]="1"
      [rowspan]="20">
      <app-difference-counter>{{OPPONENT}}</app-difference-counter>
    </mat-grid-tile>
  </mat-grid-list>
</span>
<audio #failSound>
  <source src={{SUCCESS_SOUND}} type="audio/wav">
</audio>
<audio #successSound>
  <source src={{FAIL_SOUND}} type="audio/wav">
</audio>
